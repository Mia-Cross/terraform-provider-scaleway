---
version: 2
interactions:
- id: 0
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 129
    host: api.scaleway.com
    body: "{\"name\":\"test-acc-scaleway-project-530906356225914112\",\"organization_id\":\"105bdce1-64c0-48ab-899d-868455867ecf\",\"description\":\"\"}"
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/account/v3/projects
    method: POST
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 280
    body: "{\"id\":\"bfa00ff5-8d76-469c-859f-31d421e5b4cf\",\"name\":\"test-acc-scaleway-project-530906356225914112\",\"organization_id\":\"105bdce1-64c0-48ab-899d-868455867ecf\",\"created_at\":\"2025-09-05T12:00:22.209533Z\",\"updated_at\":\"2025-09-05T12:00:22.209533Z\",\"description\":\"\",\"qualification\":null}"
    headers:
      Content-Length:
      - "280"
      Content-Type:
      - application/json
      Date:
      - Fri, 05 Sep 2025 12:00:22 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      X-Request-Id:
      - 24ef0d68-e1ff-4cfa-ac60-b77a8be496d5
    status: 200 OK
    code: 200
    duration: 429.452971ms
- id: 1
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 142
    host: api.scaleway.com
    body: "{\"name\":\"test-acc-scaleway-iam-app-5538847023710281919\",\"organization_id\":\"105bdce1-64c0-48ab-899d-868455867ecf\",\"description\":\"\",\"tags\":null}"
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/applications
    method: POST
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 335
    body: "{\"id\":\"fcc2be65-523c-4207-a2fb-de8e8a68aea9\",\"name\":\"test-acc-scaleway-iam-app-5538847023710281919\",\"description\":\"\",\"created_at\":\"2025-09-05T12:00:22.616600Z\",\"updated_at\":\"2025-09-05T12:00:22.616600Z\",\"organization_id\":\"105bdce1-64c0-48ab-899d-868455867ecf\",\"editable\":true,\"deletable\":true,\"managed\":false,\"nb_api_keys\":0,\"tags\":[]}"
    headers:
      Content-Length:
      - "335"
      Content-Type:
      - application/json
      Date:
      - Fri, 05 Sep 2025 12:00:22 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      X-Request-Id:
      - 8e427f2a-dbbc-4c78-ba5f-7a4f125ab0d4
    status: 200 OK
    code: 200
    duration: 195.59357ms
- id: 2
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 323
    host: api.scaleway.com
    body: "{\"name\":\"test-acc-scaleway-iam-policy-3991359554641253200\",\"description\":\"\",\"organization_id\":\"105bdce1-64c0-48ab-899d-868455867ecf\",\"rules\":[{\"permission_set_names\":[\"IAMManager\"],\"condition\":\"\",\"organization_id\":\"105bdce1-64c0-48ab-899d-868455867ecf\"}],\"tags\":null,\"application_id\":\"fcc2be65-523c-4207-a2fb-de8e8a68aea9\"}"
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/policies
    method: POST
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 428
    body: "{\"id\":\"dfa96a11-2e29-46ba-a877-c808dfc11a77\",\"name\":\"test-acc-scaleway-iam-policy-3991359554641253200\",\"description\":\"\",\"organization_id\":\"105bdce1-64c0-48ab-899d-868455867ecf\",\"created_at\":\"2025-09-05T12:00:22.811915Z\",\"updated_at\":\"2025-09-05T12:00:22.811915Z\",\"editable\":true,\"deletable\":true,\"managed\":false,\"nb_rules\":0,\"nb_scopes\":0,\"nb_permission_sets\":0,\"tags\":[],\"application_id\":\"fcc2be65-523c-4207-a2fb-de8e8a68aea9\"}"
    headers:
      Content-Length:
      - "428"
      Content-Type:
      - application/json
      Date:
      - Fri, 05 Sep 2025 12:00:22 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      X-Request-Id:
      - 31d06d17-9b10-4aaf-8332-bb3da28719d8
    status: 200 OK
    code: 200
    duration: 228.859986ms
- id: 3
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 134
    host: api.scaleway.com
    body: "{\"application_id\":\"fcc2be65-523c-4207-a2fb-de8e8a68aea9\",\"default_project_id\":\"bfa00ff5-8d76-469c-859f-31d421e5b4cf\",\"description\":\"\"}"
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/api-keys
    method: POST
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 407
    body: "{\"access_key\":\"SCWEGFYT2G56FB1WX9B5\",\"secret_key\":\"11111111-1111-1111-1111-111111111111\",\"description\":\"\",\"created_at\":\"2025-09-05T12:00:23.063323Z\",\"updated_at\":\"2025-09-05T12:00:23.063323Z\",\"expires_at\":null,\"default_project_id\":\"bfa00ff5-8d76-469c-859f-31d421e5b4cf\",\"editable\":true,\"deletable\":true,\"managed\":false,\"creation_ip\":\"130.180.219.188\",\"application_id\":\"fcc2be65-523c-4207-a2fb-de8e8a68aea9\"}"
    headers:
      Content-Length:
      - "407"
      Content-Type:
      - application/json
      Date:
      - Fri, 05 Sep 2025 12:00:23 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      X-Request-Id:
      - 90dfacee-84c0-45d4-8256-dd8ceebd70c3
    status: 200 OK
    code: 200
    duration: 222.097306ms
- id: 4
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 292
    host: api.scaleway.com
    body: "{\"name\":\"tf_tests_policy_condition\",\"description\":\"a description\",\"organization_id\":\"105bdce1-64c0-48ab-899d-868455867ecf\",\"rules\":[{\"permission_set_names\":[\"AllProductsFullAccess\"],\"condition\":\"1 == 1\",\"organization_id\":\"105bdce1-64c0-48ab-899d-868455867ecf\"}],\"tags\":[],\"no_principal\":true}"
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/policies
    method: POST
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 382
    body: "{\"id\":\"2eb5528e-c0bb-4392-bdb8-d815dc21de7d\",\"name\":\"tf_tests_policy_condition\",\"description\":\"a description\",\"organization_id\":\"105bdce1-64c0-48ab-899d-868455867ecf\",\"created_at\":\"2025-09-05T12:00:39.241007Z\",\"updated_at\":\"2025-09-05T12:00:39.241007Z\",\"editable\":true,\"deletable\":true,\"managed\":false,\"nb_rules\":0,\"nb_scopes\":0,\"nb_permission_sets\":0,\"tags\":[],\"no_principal\":true}"
    headers:
      Content-Length:
      - "382"
      Content-Type:
      - application/json
      Date:
      - Fri, 05 Sep 2025 12:00:39 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      X-Request-Id:
      - 05c72f45-bd58-478a-bfdb-b7beeff1c6c5
    status: 200 OK
    code: 200
    duration: 155.467455ms
- id: 5
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/policies/2eb5528e-c0bb-4392-bdb8-d815dc21de7d
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 382
    body: "{\"id\":\"2eb5528e-c0bb-4392-bdb8-d815dc21de7d\",\"name\":\"tf_tests_policy_condition\",\"description\":\"a description\",\"organization_id\":\"105bdce1-64c0-48ab-899d-868455867ecf\",\"created_at\":\"2025-09-05T12:00:39.241007Z\",\"updated_at\":\"2025-09-05T12:00:39.241007Z\",\"editable\":true,\"deletable\":true,\"managed\":false,\"nb_rules\":1,\"nb_scopes\":1,\"nb_permission_sets\":1,\"tags\":[],\"no_principal\":true}"
    headers:
      Content-Length:
      - "382"
      Content-Type:
      - application/json
      Date:
      - Fri, 05 Sep 2025 12:00:39 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      X-Request-Id:
      - fc366662-47bf-449e-b959-75fc91d6ff73
    status: 200 OK
    code: 200
    duration: 194.839192ms
- id: 6
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    form:
      policy_id:
      - 2eb5528e-c0bb-4392-bdb8-d815dc21de7d
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/rules?policy_id=2eb5528e-c0bb-4392-bdb8-d815dc21de7d
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 240
    body: "{\"rules\":[{\"id\":\"8d14c883-302d-490a-84cd-9dd10b8dfea0\",\"permission_set_names\":[\"AllProductsFullAccess\"],\"permission_sets_scope_type\":\"projects\",\"condition\":\"1 == 1\",\"organization_id\":\"105bdce1-64c0-48ab-899d-868455867ecf\"}],\"total_count\":1}"
    headers:
      Content-Length:
      - "240"
      Content-Type:
      - application/json
      Date:
      - Fri, 05 Sep 2025 12:00:39 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      X-Request-Id:
      - cd5ebaef-1286-471a-a945-c96d3fb5570a
    status: 200 OK
    code: 200
    duration: 128.681018ms
- id: 7
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/policies/2eb5528e-c0bb-4392-bdb8-d815dc21de7d
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 382
    body: "{\"id\":\"2eb5528e-c0bb-4392-bdb8-d815dc21de7d\",\"name\":\"tf_tests_policy_condition\",\"description\":\"a description\",\"organization_id\":\"105bdce1-64c0-48ab-899d-868455867ecf\",\"created_at\":\"2025-09-05T12:00:39.241007Z\",\"updated_at\":\"2025-09-05T12:00:39.241007Z\",\"editable\":true,\"deletable\":true,\"managed\":false,\"nb_rules\":1,\"nb_scopes\":1,\"nb_permission_sets\":1,\"tags\":[],\"no_principal\":true}"
    headers:
      Content-Length:
      - "382"
      Content-Type:
      - application/json
      Date:
      - Fri, 05 Sep 2025 12:00:40 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      X-Request-Id:
      - 48fddb32-bc03-41d2-b7d5-e497b45685ad
    status: 200 OK
    code: 200
    duration: 235.703555ms
- id: 8
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/policies/2eb5528e-c0bb-4392-bdb8-d815dc21de7d
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 382
    body: "{\"id\":\"2eb5528e-c0bb-4392-bdb8-d815dc21de7d\",\"name\":\"tf_tests_policy_condition\",\"description\":\"a description\",\"organization_id\":\"105bdce1-64c0-48ab-899d-868455867ecf\",\"created_at\":\"2025-09-05T12:00:39.241007Z\",\"updated_at\":\"2025-09-05T12:00:39.241007Z\",\"editable\":true,\"deletable\":true,\"managed\":false,\"nb_rules\":1,\"nb_scopes\":1,\"nb_permission_sets\":1,\"tags\":[],\"no_principal\":true}"
    headers:
      Content-Length:
      - "382"
      Content-Type:
      - application/json
      Date:
      - Fri, 05 Sep 2025 12:00:41 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      X-Request-Id:
      - dc18247c-7527-4790-bea3-aec8b438eb53
    status: 200 OK
    code: 200
    duration: 90.030665ms
- id: 9
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    form:
      policy_id:
      - 2eb5528e-c0bb-4392-bdb8-d815dc21de7d
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/rules?policy_id=2eb5528e-c0bb-4392-bdb8-d815dc21de7d
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 240
    body: "{\"rules\":[{\"id\":\"8d14c883-302d-490a-84cd-9dd10b8dfea0\",\"permission_set_names\":[\"AllProductsFullAccess\"],\"permission_sets_scope_type\":\"projects\",\"condition\":\"1 == 1\",\"organization_id\":\"105bdce1-64c0-48ab-899d-868455867ecf\"}],\"total_count\":1}"
    headers:
      Content-Length:
      - "240"
      Content-Type:
      - application/json
      Date:
      - Fri, 05 Sep 2025 12:00:41 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      X-Request-Id:
      - 306af21c-6f28-422e-af43-29125160f2ee
    status: 200 OK
    code: 200
    duration: 127.996731ms
- id: 10
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/policies/2eb5528e-c0bb-4392-bdb8-d815dc21de7d
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 382
    body: "{\"id\":\"2eb5528e-c0bb-4392-bdb8-d815dc21de7d\",\"name\":\"tf_tests_policy_condition\",\"description\":\"a description\",\"organization_id\":\"105bdce1-64c0-48ab-899d-868455867ecf\",\"created_at\":\"2025-09-05T12:00:39.241007Z\",\"updated_at\":\"2025-09-05T12:00:39.241007Z\",\"editable\":true,\"deletable\":true,\"managed\":false,\"nb_rules\":1,\"nb_scopes\":1,\"nb_permission_sets\":1,\"tags\":[],\"no_principal\":true}"
    headers:
      Content-Length:
      - "382"
      Content-Type:
      - application/json
      Date:
      - Fri, 05 Sep 2025 12:00:43 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      X-Request-Id:
      - fe18138d-f9fe-40e5-9067-d62b18ab471b
    status: 200 OK
    code: 200
    duration: 186.095971ms
- id: 11
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    form:
      policy_id:
      - 2eb5528e-c0bb-4392-bdb8-d815dc21de7d
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/rules?policy_id=2eb5528e-c0bb-4392-bdb8-d815dc21de7d
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 240
    body: "{\"rules\":[{\"id\":\"8d14c883-302d-490a-84cd-9dd10b8dfea0\",\"permission_set_names\":[\"AllProductsFullAccess\"],\"permission_sets_scope_type\":\"projects\",\"condition\":\"1 == 1\",\"organization_id\":\"105bdce1-64c0-48ab-899d-868455867ecf\"}],\"total_count\":1}"
    headers:
      Content-Length:
      - "240"
      Content-Type:
      - application/json
      Date:
      - Fri, 05 Sep 2025 12:00:43 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      X-Request-Id:
      - 78b58c95-0644-45ae-97a2-0b130104aeca
    status: 200 OK
    code: 200
    duration: 110.596352ms
- id: 12
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 221
    host: api.scaleway.com
    body: "{\"policy_id\":\"2eb5528e-c0bb-4392-bdb8-d815dc21de7d\",\"rules\":[{\"permission_set_names\":[\"AllProductsFullAccess\"],\"condition\":\"request.user_agent == 'terraform-test'\",\"project_ids\":[\"105bdce1-64c0-48ab-899d-868455867ecf\"]}]}"
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/rules
    method: PUT
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 254
    body: "{\"rules\":[{\"id\":\"c9118c5a-e26b-4aad-a136-9448afb74bcc\",\"permission_set_names\":[\"AllProductsFullAccess\"],\"permission_sets_scope_type\":\"projects\",\"condition\":\"request.user_agent == 'terraform-test'\",\"project_ids\":[\"105bdce1-64c0-48ab-899d-868455867ecf\"]}]}"
    headers:
      Content-Length:
      - "254"
      Content-Type:
      - application/json
      Date:
      - Fri, 05 Sep 2025 12:00:45 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      X-Request-Id:
      - 344ee92f-3dc0-4dbc-9fa4-bf21a24209b0
    status: 200 OK
    code: 200
    duration: 128.519001ms
- id: 13
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/policies/2eb5528e-c0bb-4392-bdb8-d815dc21de7d
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 382
    body: "{\"id\":\"2eb5528e-c0bb-4392-bdb8-d815dc21de7d\",\"name\":\"tf_tests_policy_condition\",\"description\":\"a description\",\"organization_id\":\"105bdce1-64c0-48ab-899d-868455867ecf\",\"created_at\":\"2025-09-05T12:00:39.241007Z\",\"updated_at\":\"2025-09-05T12:00:45.299782Z\",\"editable\":true,\"deletable\":true,\"managed\":false,\"nb_rules\":1,\"nb_scopes\":1,\"nb_permission_sets\":1,\"tags\":[],\"no_principal\":true}"
    headers:
      Content-Length:
      - "382"
      Content-Type:
      - application/json
      Date:
      - Fri, 05 Sep 2025 12:00:45 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      X-Request-Id:
      - 59b98bb0-f7f1-4923-86a2-51f6a83a1461
    status: 200 OK
    code: 200
    duration: 106.664522ms
- id: 14
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    form:
      policy_id:
      - 2eb5528e-c0bb-4392-bdb8-d815dc21de7d
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/rules?policy_id=2eb5528e-c0bb-4392-bdb8-d815dc21de7d
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 270
    body: "{\"rules\":[{\"id\":\"c9118c5a-e26b-4aad-a136-9448afb74bcc\",\"permission_set_names\":[\"AllProductsFullAccess\"],\"permission_sets_scope_type\":\"projects\",\"condition\":\"request.user_agent == 'terraform-test'\",\"project_ids\":[\"105bdce1-64c0-48ab-899d-868455867ecf\"]}],\"total_count\":1}"
    headers:
      Content-Length:
      - "270"
      Content-Type:
      - application/json
      Date:
      - Fri, 05 Sep 2025 12:00:45 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      X-Request-Id:
      - 7223e4ad-53f0-4bbe-b219-90ed4debd1a3
    status: 200 OK
    code: 200
    duration: 97.454926ms
- id: 15
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/policies/2eb5528e-c0bb-4392-bdb8-d815dc21de7d
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 382
    body: "{\"id\":\"2eb5528e-c0bb-4392-bdb8-d815dc21de7d\",\"name\":\"tf_tests_policy_condition\",\"description\":\"a description\",\"organization_id\":\"105bdce1-64c0-48ab-899d-868455867ecf\",\"created_at\":\"2025-09-05T12:00:39.241007Z\",\"updated_at\":\"2025-09-05T12:00:45.299782Z\",\"editable\":true,\"deletable\":true,\"managed\":false,\"nb_rules\":1,\"nb_scopes\":1,\"nb_permission_sets\":1,\"tags\":[],\"no_principal\":true}"
    headers:
      Content-Length:
      - "382"
      Content-Type:
      - application/json
      Date:
      - Fri, 05 Sep 2025 12:00:45 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      X-Request-Id:
      - fa6830b4-fdd4-4973-8c6e-aeeede83a3a8
    status: 200 OK
    code: 200
    duration: 151.462657ms
- id: 16
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/policies/2eb5528e-c0bb-4392-bdb8-d815dc21de7d
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 382
    body: "{\"id\":\"2eb5528e-c0bb-4392-bdb8-d815dc21de7d\",\"name\":\"tf_tests_policy_condition\",\"description\":\"a description\",\"organization_id\":\"105bdce1-64c0-48ab-899d-868455867ecf\",\"created_at\":\"2025-09-05T12:00:39.241007Z\",\"updated_at\":\"2025-09-05T12:00:45.299782Z\",\"editable\":true,\"deletable\":true,\"managed\":false,\"nb_rules\":1,\"nb_scopes\":1,\"nb_permission_sets\":1,\"tags\":[],\"no_principal\":true}"
    headers:
      Content-Length:
      - "382"
      Content-Type:
      - application/json
      Date:
      - Fri, 05 Sep 2025 12:00:46 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      X-Request-Id:
      - b11a7062-63fa-4fdc-9aab-27e9a84709ba
    status: 200 OK
    code: 200
    duration: 106.129958ms
- id: 17
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    form:
      policy_id:
      - 2eb5528e-c0bb-4392-bdb8-d815dc21de7d
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/rules?policy_id=2eb5528e-c0bb-4392-bdb8-d815dc21de7d
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 270
    body: "{\"rules\":[{\"id\":\"c9118c5a-e26b-4aad-a136-9448afb74bcc\",\"permission_set_names\":[\"AllProductsFullAccess\"],\"permission_sets_scope_type\":\"projects\",\"condition\":\"request.user_agent == 'terraform-test'\",\"project_ids\":[\"105bdce1-64c0-48ab-899d-868455867ecf\"]}],\"total_count\":1}"
    headers:
      Content-Length:
      - "270"
      Content-Type:
      - application/json
      Date:
      - Fri, 05 Sep 2025 12:00:47 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      X-Request-Id:
      - fac69a98-413f-42f7-aa4b-acc32e6516f8
    status: 200 OK
    code: 200
    duration: 93.041401ms
- id: 18
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/policies/2eb5528e-c0bb-4392-bdb8-d815dc21de7d
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 382
    body: "{\"id\":\"2eb5528e-c0bb-4392-bdb8-d815dc21de7d\",\"name\":\"tf_tests_policy_condition\",\"description\":\"a description\",\"organization_id\":\"105bdce1-64c0-48ab-899d-868455867ecf\",\"created_at\":\"2025-09-05T12:00:39.241007Z\",\"updated_at\":\"2025-09-05T12:00:45.299782Z\",\"editable\":true,\"deletable\":true,\"managed\":false,\"nb_rules\":1,\"nb_scopes\":1,\"nb_permission_sets\":1,\"tags\":[],\"no_principal\":true}"
    headers:
      Content-Length:
      - "382"
      Content-Type:
      - application/json
      Date:
      - Fri, 05 Sep 2025 12:00:48 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      X-Request-Id:
      - be1898bc-e147-43ca-9977-c843d85a52d3
    status: 200 OK
    code: 200
    duration: 63.359925ms
- id: 19
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    form:
      policy_id:
      - 2eb5528e-c0bb-4392-bdb8-d815dc21de7d
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/rules?policy_id=2eb5528e-c0bb-4392-bdb8-d815dc21de7d
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 270
    body: "{\"rules\":[{\"id\":\"c9118c5a-e26b-4aad-a136-9448afb74bcc\",\"permission_set_names\":[\"AllProductsFullAccess\"],\"permission_sets_scope_type\":\"projects\",\"condition\":\"request.user_agent == 'terraform-test'\",\"project_ids\":[\"105bdce1-64c0-48ab-899d-868455867ecf\"]}],\"total_count\":1}"
    headers:
      Content-Length:
      - "270"
      Content-Type:
      - application/json
      Date:
      - Fri, 05 Sep 2025 12:00:48 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      X-Request-Id:
      - 86b7b51d-df6b-4312-8fff-a449a81d81f7
    status: 200 OK
    code: 200
    duration: 149.032368ms
- id: 20
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 183
    host: api.scaleway.com
    body: "{\"policy_id\":\"2eb5528e-c0bb-4392-bdb8-d815dc21de7d\",\"rules\":[{\"permission_set_names\":[\"AllProductsFullAccess\"],\"condition\":\"\",\"project_ids\":[\"105bdce1-64c0-48ab-899d-868455867ecf\"]}]}"
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/rules
    method: PUT
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 216
    body: "{\"rules\":[{\"id\":\"757e10ff-be7a-4896-8e14-0804505490b4\",\"permission_set_names\":[\"AllProductsFullAccess\"],\"permission_sets_scope_type\":\"projects\",\"condition\":\"\",\"project_ids\":[\"105bdce1-64c0-48ab-899d-868455867ecf\"]}]}"
    headers:
      Content-Length:
      - "216"
      Content-Type:
      - application/json
      Date:
      - Fri, 05 Sep 2025 12:00:50 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      X-Request-Id:
      - cd03f5c8-8cc0-4a93-92b9-acc78784bb2b
    status: 200 OK
    code: 200
    duration: 79.394526ms
- id: 21
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/policies/2eb5528e-c0bb-4392-bdb8-d815dc21de7d
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 382
    body: "{\"id\":\"2eb5528e-c0bb-4392-bdb8-d815dc21de7d\",\"name\":\"tf_tests_policy_condition\",\"description\":\"a description\",\"organization_id\":\"105bdce1-64c0-48ab-899d-868455867ecf\",\"created_at\":\"2025-09-05T12:00:39.241007Z\",\"updated_at\":\"2025-09-05T12:00:50.084444Z\",\"editable\":true,\"deletable\":true,\"managed\":false,\"nb_rules\":1,\"nb_scopes\":1,\"nb_permission_sets\":1,\"tags\":[],\"no_principal\":true}"
    headers:
      Content-Length:
      - "382"
      Content-Type:
      - application/json
      Date:
      - Fri, 05 Sep 2025 12:00:50 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      X-Request-Id:
      - fd1d7a47-91f8-46b9-bb35-68bb0c37877e
    status: 200 OK
    code: 200
    duration: 88.505647ms
- id: 22
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    form:
      policy_id:
      - 2eb5528e-c0bb-4392-bdb8-d815dc21de7d
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/rules?policy_id=2eb5528e-c0bb-4392-bdb8-d815dc21de7d
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 232
    body: "{\"rules\":[{\"id\":\"757e10ff-be7a-4896-8e14-0804505490b4\",\"permission_set_names\":[\"AllProductsFullAccess\"],\"permission_sets_scope_type\":\"projects\",\"condition\":\"\",\"project_ids\":[\"105bdce1-64c0-48ab-899d-868455867ecf\"]}],\"total_count\":1}"
    headers:
      Content-Length:
      - "232"
      Content-Type:
      - application/json
      Date:
      - Fri, 05 Sep 2025 12:00:50 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      X-Request-Id:
      - ddbf1896-e236-4e74-ad16-eb433108395b
    status: 200 OK
    code: 200
    duration: 121.187562ms
- id: 23
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/policies/2eb5528e-c0bb-4392-bdb8-d815dc21de7d
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 382
    body: "{\"id\":\"2eb5528e-c0bb-4392-bdb8-d815dc21de7d\",\"name\":\"tf_tests_policy_condition\",\"description\":\"a description\",\"organization_id\":\"105bdce1-64c0-48ab-899d-868455867ecf\",\"created_at\":\"2025-09-05T12:00:39.241007Z\",\"updated_at\":\"2025-09-05T12:00:50.084444Z\",\"editable\":true,\"deletable\":true,\"managed\":false,\"nb_rules\":1,\"nb_scopes\":1,\"nb_permission_sets\":1,\"tags\":[],\"no_principal\":true}"
    headers:
      Content-Length:
      - "382"
      Content-Type:
      - application/json
      Date:
      - Fri, 05 Sep 2025 12:00:50 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      X-Request-Id:
      - 51ad005b-da56-4d0f-a156-9e0375ee2693
    status: 200 OK
    code: 200
    duration: 156.835771ms
- id: 24
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/policies/2eb5528e-c0bb-4392-bdb8-d815dc21de7d
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 382
    body: "{\"id\":\"2eb5528e-c0bb-4392-bdb8-d815dc21de7d\",\"name\":\"tf_tests_policy_condition\",\"description\":\"a description\",\"organization_id\":\"105bdce1-64c0-48ab-899d-868455867ecf\",\"created_at\":\"2025-09-05T12:00:39.241007Z\",\"updated_at\":\"2025-09-05T12:00:50.084444Z\",\"editable\":true,\"deletable\":true,\"managed\":false,\"nb_rules\":1,\"nb_scopes\":1,\"nb_permission_sets\":1,\"tags\":[],\"no_principal\":true}"
    headers:
      Content-Length:
      - "382"
      Content-Type:
      - application/json
      Date:
      - Fri, 05 Sep 2025 12:00:51 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      X-Request-Id:
      - aabdb8ff-b164-477f-8918-ca5fa8b41c1d
    status: 200 OK
    code: 200
    duration: 176.25352ms
- id: 25
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    form:
      policy_id:
      - 2eb5528e-c0bb-4392-bdb8-d815dc21de7d
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/rules?policy_id=2eb5528e-c0bb-4392-bdb8-d815dc21de7d
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 232
    body: "{\"rules\":[{\"id\":\"757e10ff-be7a-4896-8e14-0804505490b4\",\"permission_set_names\":[\"AllProductsFullAccess\"],\"permission_sets_scope_type\":\"projects\",\"condition\":\"\",\"project_ids\":[\"105bdce1-64c0-48ab-899d-868455867ecf\"]}],\"total_count\":1}"
    headers:
      Content-Length:
      - "232"
      Content-Type:
      - application/json
      Date:
      - Fri, 05 Sep 2025 12:00:51 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      X-Request-Id:
      - 29d50d86-4d60-424c-8310-77249b3e77fd
    status: 200 OK
    code: 200
    duration: 92.110491ms
- id: 26
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/policies/2eb5528e-c0bb-4392-bdb8-d815dc21de7d
    method: DELETE
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 0
    body: ""
    headers:
      Content-Type:
      - application/json
      Date:
      - Fri, 05 Sep 2025 12:00:53 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      X-Request-Id:
      - fae99826-dffd-48c3-a1e6-19b7dda0f61e
    status: 204 No Content
    code: 204
    duration: 70.870267ms
- id: 27
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/api-keys/SCWEGFYT2G56FB1WX9B5
    method: DELETE
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 0
    body: ""
    headers:
      Content-Type:
      - application/json
      Date:
      - Fri, 05 Sep 2025 12:00:53 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      X-Request-Id:
      - 99eb6d3b-809d-4004-b8a4-0569ee9ee6bf
    status: 204 No Content
    code: 204
    duration: 126.538236ms
- id: 28
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/policies/dfa96a11-2e29-46ba-a877-c808dfc11a77
    method: DELETE
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 0
    body: ""
    headers:
      Content-Type:
      - application/json
      Date:
      - Fri, 05 Sep 2025 12:00:53 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      X-Request-Id:
      - 1ba54d41-13ba-4133-b4f6-7fbcb2fc3f7f
    status: 204 No Content
    code: 204
    duration: 149.647032ms
- id: 29
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/applications/fcc2be65-523c-4207-a2fb-de8e8a68aea9
    method: DELETE
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 0
    body: ""
    headers:
      Content-Type:
      - application/json
      Date:
      - Fri, 05 Sep 2025 12:00:54 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      X-Request-Id:
      - 7b5948af-582f-4b7e-bdfd-32959619e235
    status: 204 No Content
    code: 204
    duration: 146.059269ms
- id: 30
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/account/v3/projects/bfa00ff5-8d76-469c-859f-31d421e5b4cf
    method: DELETE
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 0
    body: ""
    headers:
      Content-Type:
      - application/json
      Date:
      - Fri, 05 Sep 2025 12:00:55 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      X-Request-Id:
      - 8ee9adf4-4923-4381-beb9-5d8910ed32f4
    status: 204 No Content
    code: 204
    duration: 1.501599379s
- id: 31
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/policies/2eb5528e-c0bb-4392-bdb8-d815dc21de7d
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 127
    body: "{\"message\":\"resource is not found\",\"resource\":\"policy\",\"resource_id\":\"2eb5528e-c0bb-4392-bdb8-d815dc21de7d\",\"type\":\"not_found\"}"
    headers:
      Content-Length:
      - "127"
      Content-Type:
      - application/json
      Date:
      - Fri, 05 Sep 2025 12:00:55 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      X-Request-Id:
      - fc1230c5-3544-4b59-9430-18cf6814e07e
    status: 404 Not Found
    code: 404
    duration: 54.887232ms
